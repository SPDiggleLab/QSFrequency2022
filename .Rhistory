getwd
setwd(dir = 'CYZ GITHUB/Digglets/For_Conan/')
getwd()
source('~/CYZ GITHUB/Digglets/For_Conan/parse_inputs.R')
source('~/CYZ GITHUB/Digglets/For_Conan/parse_inputs.R')
ls
cd(0)
source('~/CYZ GITHUB/Digglets/For_Conan/parse_inputs.R')
# load genes and labs
lab_files = list.files('INPUT/labs/',path = '.csv')
lab_files
# load genes and labs
lab_files = list.files('INPUT/labs/',pattern = '.csv')
lab_files
for(labfile in lab_files){
temp.in = read.csv(paste('INPUT/labs/', labfile, sep='', collapse=''))
ls.labs[labfile] = temp.in
}
temp.in
temp.in = read.table(sep='\t', (paste('INPUT/labs/', labfile, sep='', collapse=''))
ls.labs[labfile] = temp.in
}
temp.in = read.table(sep='\t', (paste('INPUT/labs/', labfile, sep='', collapse='')))
temp.in
temp.in = read.table(sep='\t', (paste('INPUT/labs/', labfile, sep='', collapse='')), col.names = T)
temp.in = read.table(sep='\t', (paste('INPUT/labs/', labfile, sep='', collapse='')), header = T)
temp.in
temp.in = read.table(sep='\t', (paste('INPUT/labs/', labfile, sep='', collapse='')), header = T, stringsAsFactors = F)
temp.in
temp.in$DETAILS = temp.in$SOURCE
labfile
strsplit(labfile, '-')
strsplit(labfile, '-')[[1]]
strsplit(substr(labfile, start = 1, stop = nchar(labfile)-4, '-')[[1]]
asdf
strsplit(substr(labfile, start = 1, stop = nchar(labfile)-4, '-'))[[1]]
strsplit(substr(labfile, start = 1, stop = nchar(labfile)-4), '-')[[1]]
strsplit(substr(labfile, start = 1, stop = nchar(labfile)-4), '-')[[1]][2]
source('~/CYZ GITHUB/Digglets/For_Conan/parse_inputs.R')
ls.labs
source('~/CYZ GITHUB/Digglets/For_Conan/parse_inputs.R')
ls.labs
temp.in
temp.in$DETAILS
temp.in$SOURCE
source('~/CYZ GITHUB/Digglets/For_Conan/parse_inputs.R')
temp.in$SOURCE
LS.LABS
ls.labs
df.labs = do.call('rbind', ls.labs)
df.labs
View(df.labs)
source('~/CYZ GITHUB/Digglets/For_Conan/parse_inputs.R')
source('~/CYZ GITHUB/Digglets/For_Conan/parse_inputs.R')
source('~/CYZ GITHUB/Digglets/For_Conan/parse_inputs.R')
source('~/CYZ GITHUB/Digglets/For_Conan/parse_inputs.R')
gene_files
read.table(paste('INPUT/genes/', gene_files, sep='', collapse=''))
read.table(paste('INPUT/genes/', gene_files[1], sep='', collapse=''))
temp.in = read.table(paste('INPUT/genes/', gene_files[1], sep='', collapse=''), header=T, stringsAsFactors = F)
temp.in = read.table(paste('INPUT/genes/', gene_files[1], sep='', collapse=''), header=T, stringsAsFactors=F)
temp.in
genefile
gene_files[1]
temp.in
head(temp.in)
strsplit(temp.in$INFO, 'strain')
strains = sapply(temp.in$INFO, function(x){
split1 = strsplit(x, 'strain ')[[1]][2]
split2 = strsplit(split1, 'IPC')[[1]][1]
})
strains
names(strains) = NULL
.in$INFO, function(x){
split1 = strsplit(x, 'strain ')[[1]][2]
split2 = strsplit(split1, 'IPC')[[1]][1]
})
names(strains) = NULL
strains = sapply(temp.in$INFO, function(x){
split1 = strsplit(x, 'strain ')[[1]][2]
split2 = strsplit(split1, 'IPC')[[1]][1]
})
names(strains) = NULL
strains
strains = sapply(temp.in$INFO, function(x){
split1 = strsplit(x, 'strain ')[[1]][2]
split2 = strsplit(split1, ' IPC')[[1]][1]
})
names(strains) = NULL
strauins
strains
df.labs
head(temp.in)
source('~/CYZ GITHUB/Digglets/For_Conan/parse_inputs.R')
View(temp.in)
temp.in[grepl(temp.in$INFO, '3052425557'),]
temp.in[grepl('3052425557',temp.in$INFO),]
temp.in[grepl(temp.in$INFO, 'SMC1595â€™
> View(temp.in)'),]
temp.in[grepl('SMC1595',temp.in$INFO),]
table(temp.in[grepl('SMC1595',temp.in$INFO),'SEQUENCE']
)
table(temp.in[grepl('3052425557',temp.in$INFO),'SEQUENCE']
)
source('~/CYZ GITHUB/Digglets/For_Conan/parse_inputs.R')
table(strains)
test = table(strains)
test
test[test>1]
strains
rownameS(temp.in) = strains
rowNameS(temp.in) = strains
rownames(temp.in) = strains
temp.in = temp.in[!is.na(strains),]
strains = strains[!is.na(strains),]
source('~/CYZ GITHUB/Digglets/For_Conan/parse_inputs.R')
head(df.labs)
View(df.labs)
AL206
sum(grepl('AL206', temp.in$INFO))
sum(grepl('AL430', temp.in$INFO))
temp.in$INFO
sapply(df.labs$STRAINID[!is.na(df.labs$lasI_seqs_from_IPCD.csv)], function(x) sum(grepl(x, temp.in$INFO)))
sapply(df.labs$STRAINID[(df.labs$lasI_seqs_from_IPCD.csv)], function(x) sum(grepl(x, temp.in$INFO)))
sapply(df.labs$STRAINID[is.na(df.labs$lasI_seqs_from_IPCD.csv)], function(x) sum(grepl(x, temp.in$INFO)))
sum(!is.na(df.labs$lasI_seqs_from_IPCD.csv))
df.labs = df.labs[!is.na(df.labs$lasI_seqs_from_IPCD.csv),]
write.csv(df.labs, 'master_table.csv', sep = ',')
write.csv(df.labs, 'master_table.csv')
source('~/CYZ GITHUB/Digglets/For_Conan/parse_inputs.R')
write.csv(df.labs, 'master_table.csv', row.names = F)
source('~/CYZ GITHUB/Digglets/For_Conan/INPUT/Raw Inputs/process_inputs.R')
getwd(0)
getwd()
setwd('INPUT/Raw Inputs/')
source('~/CYZ GITHUB/Digglets/For_Conan/INPUT/Raw Inputs/process_inputs.R')
source('~/CYZ GITHUB/Digglets/For_Conan/INPUT/Raw Inputs/process_inputs.R')
source('~/CYZ GITHUB/Digglets/For_Conan/INPUT/Raw Inputs/process_inputs.R')
source('~/CYZ GITHUB/Digglets/For_Conan/INPUT/Raw Inputs/process_inputs.R')
source('~/CYZ GITHUB/Digglets/For_Conan/INPUT/Raw Inputs/process_inputs.R')
source('~/CYZ GITHUB/Digglets/For_Conan/parse_inputs.R')
setwd('../..')
source('~/CYZ GITHUB/Digglets/For_Conan/parse_inputs.R')
getwd()
lab_files
temp.in
source('~/CYZ GITHUB/Digglets/For_Conan/parse_inputs.R')
getwd()
files = list.files('INPUT/Raw Inputs/', pattern = '.xlsx')
files
source('~/CYZ GITHUB/Digglets/For_Conan/INPUT/Raw Inputs/process_inputs.R')
source('~/CYZ GITHUB/Digglets/For_Conan/INPUT/Raw Inputs/process_inputs.R')
source('~/CYZ GITHUB/Digglets/For_Conan/INPUT/Raw Inputs/process_inputs.R')
source('~/CYZ GITHUB/Digglets/For_Conan/parse_inputs.R')
source('~/CYZ GITHUB/Digglets/For_Conan/parse_inputs.R')
temp.in
strains
temp.in
df.labs
source('~/CYZ GITHUB/Digglets/For_Conan/parse_inputs.R')
gene
genefile
df.labs
table(df.labs$lasI_seqs_from_IPCD.tsv)
table(df.labs$lasR_seqs_from_IPCD.tsv)
table(df.labs$pqsH_seqs_from_IPCD.tsv)
table(df.labs$lasI_seqs_from_IPCD.tsv)
table(df.labs$lasR_seqs_from_IPCD.tsv)
source('~/CYZ GITHUB/Digglets/For_Conan/INPUT/Raw Inputs/process_inputs.R')
temp
strains
df.labs$STRAINID
source('~/CYZ GITHUB/Digglets/For_Conan/parse_inputs.R')
temp.in$SEQUENCE
table(temp.in$SEQUENCE)
table(temp.in$SEQUENCE)[order(table(temp.in$SEQUENCE))]
source('~/CYZ GITHUB/Digglets/For_Conan/parse_inputs.R')
print(table(temp.in$SEQUENCE)[order(table(temp.in$SEQUENCE), decreasing=T)][1])
source('~/CYZ GITHUB/Digglets/For_Conan/parse_inputs.R')
source('~/CYZ GITHUB/Digglets/For_Conan/parse_inputs.R')
temp.in
strains
colnames(df.labs)
temp.in[df.labs$STRAINID]
temp.in[df.labs$STRAINID,]
df.labs$STRAINID
head(df.labs)
ls.labs[[1]]
source('~/CYZ GITHUB/Digglets/For_Conan/INPUT/Raw Inputs/process_inputs.R')
source('~/CYZ GITHUB/Digglets/For_Conan/INPUT/Raw Inputs/process_inputs.R')
source('~/CYZ GITHUB/Digglets/For_Conan/parse_inputs.R')
strains
df.labs
rm(list=ls())
# load genes and labs
lab_files = list.files('INPUT/labs/', pattern='.tsv')
ls.labs = list()
for(labfile in lab_files){
temp.in = read.table(sep='\t', (paste('INPUT/labs/', labfile, sep='', collapse='')), header=T, stringsAsFactors=F)
temp.in$DETAILS = temp.in$SOURCE
temp.in$SOURCE = strsplit(substr(labfile, start=1, stop=nchar(labfile)-4), '-')[[1]][2]
ls.labs[[labfile]] = temp.in
}
df.labs = do.call('rbind', ls.labs)
rownames(df.labs) = NULL
gene_files = list.files('INPUT/genes/', pattern='.tsv')
gene_exclude = c('RWZO01000027.1 Pseudomonas aeruginosa strain SMC1595 IPC1617_27.1, whole genome shotgun sequence', 'RWMY01000017.1 Pseudomonas aeruginosa strain 3052425557 IPC1492_17.1, whole genome shotgun sequence')
gene = strsplit(genefile, '_')[[1]][1]
gene = strsplit(genefile[1], '_')[[1]][1]
genefile = gene_files[1]
gene = strsplit(genefile, '_')[[1]][1]
temp.in = read.table(paste('INPUT/genes/', gene_files[1], sep='', collapse=''), header=T, stringsAsFactors=F)
temp.in = temp.in[!(temp.in$INFO %in% gene_exclude),]
strains = sapply(temp.in$INFO, function(x){
split1 = strsplit(x, 'strain ')[[1]][2]
split2 = strsplit(split1, ' IPC')[[1]][1]
})
names(strains) = NULL
temp.in = temp.in[!is.na(strains),]
strains = strains[!is.na(strains)]
rownames(temp.in) = strains
temp.in
df.labs = cbind(df.labs, temp.in[df.labs$STRAINID, 'SEQUENCE'])
head(df.labs)
colnames(df.labs)[ncol(df.labs)] = gene
source('~/CYZ GITHUB/Digglets/For_Conan/parse_inputs.R')
source('~/CYZ GITHUB/Digglets/For_Conan/parse_inputs.R')
source('~/CYZ GITHUB/Digglets/For_Conan/parse_inputs.R')
source('~/CYZ GITHUB/Digglets/For_Conan/parse_inputs.R')
source('~/CYZ GITHUB/Digglets/For_Conan/parse_inputs.R')
source('~/CYZ GITHUB/Digglets/For_Conan/parse_inputs.R')
head(df.labs)
rownames(df.labs) = df.labs$STRAINID
source('~/CYZ GITHUB/Digglets/For_Conan/parse_inputs.R')
source('~/CYZ GITHUB/Digglets/For_Conan/parse_inputs.R')
df.labs
duplicated(df.labs$STRAINID)
df.labs$STRAINID[duplicated(df.labs$STRAINID),]
df.labs$STRAINID[duplicated(df.labs$STRAINID)]
df.labs$STRAINID[df.labs$STRAINID %in% duplicated(df.labs$STRAINID)]
df.labs$STRAINID[df.labs$STRAINID %in% df.labs[duplicated(df.labs$STRAINID)]]
df.labs$STRAINID[df.labs$STRAINID %in% df.labs$SOURCE[duplicated(df.labs$STRAINID)]]
df.labs$STRAINID[df.labs$STRAINID %in% df.labs$STRAINID[duplicated(df.labs$STRAINID)]]
source('~/CYZ GITHUB/Digglets/For_Conan/parse_inputs.R')
temp.in
source('~/CYZ GITHUB/Digglets/For_Conan/parse_inputs.R')
head(df.labs)
df.labs[strains,gene] = temp.in[df.labs$STRAINID, 'SEQUENCE']
df.labs[strains,]
df.labs[strains,gene]
source('~/CYZ GITHUB/Digglets/For_Conan/parse_inputs.R')
source('~/CYZ GITHUB/Digglets/For_Conan/parse_inputs.R')
